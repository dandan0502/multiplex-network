bugid,product,component,abstract,des_com
73468,libgnomeui,general,The number of recently used files that shows up in the File menu is hardcoded,"The number of recently used files that shows up in the File menu should beread in from a preference file, not be hardcoded as a magic number in thesource code itself. I would suggest adding this setting toGnomeCC:Look'n'Feel:Applications:Menu options.++Moving this to 2.0.x since 1.4.x is trying to be in maintenance modeonly now.++I really think this should be an app-specific feature, in some appsyou have lots of files which you switch between and in other apps youonly have a few.++Too often the app-specific number of files listed in hardcoded as 4(e.g. gedit, ggv, gnumeric). It iw were as easy for app writers tocall a lib function as to use the value '4' then more apps would havea customizable number of files. You know, code re-use & all that...++For libgnomeui 2.2 I'm probably going to add a GnomeRecent API, thenwe can add a property to that or something.++Well, libgnomeui 2.2 has been out for a while. Did you manage to addthis GnomeRecent API you spoke of?++There's a eggrecent dir in libegg, which will likely end up inlibgnomeui or gtk+ for 2.4. Not 100% sure though, but it's in most ofthe GNOME 2.2 apps that use recent items.++Closing this since EggRecent has configurable limits."
145206,gnopernicus,brlmon,Braille monitor GUI is still display after gracefully exit gnopernicus,"This is an intermittent problem.Braille monitor GUI still display after gracefully exit gnopernicus.Steps:1. Bring up gnopernicus, enable Speech and Braille monitor2. Bring up any application (i.e gnome-terminal, etc.)3. type something in gnome-terminal (i.e ls, etc.)4. Observe msg display on braille monitor5. Go to Gnopernicus GUI and exitObserve braille monitor Gui. It should not diplay braille monitor GUI after gnopernicus closed.++What gnopernicus are you using?I can't reproduce this bug with gnopernicus from CVS HEAD, 1 July.Please try to reproduce this bug by launching gnopernicus from an xterm.Do you receive the message:""gnopernicus WARNING: ""srcore exited"""" in the consoleafter step 3? If ""Yes"", this message tells you that the 'srcore' (the real screen reader) hasexited. This is the reason why the braille and speech output have been killed.The process which still running is gnopernicus' GUI. So in this moment, exitingfrom gnopernicus does not make braille monitor to disappear.++I am seeing this on Solaris using gnopernicus 0.9.8. There is no message aboutsrcore edited.++No srcore msg for me as well.++There is no code in srcore to terminate brlmonitor process when srcore isexiting. There is code in gnopernicus to terminate the srcore when gnopernicusis exiting.++Created attachment 31868  [details]  [review] proposed patch++If srcore terminates for any other reason other that SIGTERM signal will braillemonitor exit?++Comment on attachment 31868  [details]  [review] proposed patchPatch applied to cvs head and gnome-2-8 branch.++Created attachment 32017  [details]  [review] add more jandle for more signals++in the new patch, you should pass the appropriate signal value to kill, notalways SIGTERM.++Created attachment 32020  [details]  [review] reworked patch++Remus: After reading the new and old patches I realized that you were right thefirst time I think, sorry about the confusion.  Since you are killing brlmon,not the srcore process, it makes sense to use SIGTERM.  Certainly we don't wantto send SIGSEGV to brlmonitor just because srcore segfaults :-)++Comment on attachment 32017  [details]  [review] add more jandle for more signalsPatch applied to cvs head and gnome-2-8 branch."
338335,GStreamer,gstreamer (core),[patch] memleak in gst-utils.c (leak pads from iterator),"Index: gstutils.c===================================================================--- gstutils.c  (revision 1629)+++ gstutils.c  (working copy)@@ -2903,6 +2903,7 @@ push_and_ref (GstPad * pad, GstEvent * event)  {   gst_pad_push_event (pad, gst_event_ref (event));+  gst_object_unref(pad); }patch by Topi Paavola++TODO: add unit-test++Created attachment 63374  [details]  [review] tests case for the leak++Just to save others of the work - these are the elemnts using the function that leaked. I've checked those and IMHO fixing the leak will not break any of these../gst-plugins-bad/ext/faad/gstfaad.c./gst-plugins-bad/ext/musepack/gstmusepackdec.c./gst-plugins-bad/ext/swfdec/gstswfdec.c./gst-plugins-bad/gst/qtdemux/qtdemux.c./gst-plugins-base/ext/ogg/gstoggdemux.c./gst-plugins-good/ext/flac/gstflactag.c./gst-plugins-good/gst/avi/gstavidemux.c./gst-plugins-good/gst/matroska/matroska-demux.c./gst-plugins-ugly/ext/dvdnav/dvdnavsrc.c./gst-plugins-ugly/gst/realmedia/rmdemux.c./gst-plugins-ugly/gst/asfdemux/gstasfdemux.c++* gst/gstutils.c: (push_and_ref):        Added some more docs.        Fix refcount issue whith gst_element_found_tags() helper        function. Fixes #338335        * tests/check/gst/gstutils.c: (GST_START_TEST), (gst_utils_suite):        Added testsuite for gst_element_found_tags()."
547835,GStreamer,gstreamer (core),tee release_request_pad while buffer_alloc racyness,"Releasing a request pad on a tee while a buffer_alloc is in progress on that same pad is racy.This goes wrong when gst_tee_find_buffer_alloc is iterating over the pads, picks a pad that's about to be released in the application's thread, unlocks tee's object lock to call gst_pad_alloc_buffer() on the pad, and while this is in progress (gst_pad_buffer_alloc_unchecked()), the application releases the pad. This unlinks and unparents the pad, and when gst_pad_buffer_alloc_unchecked() returns back to gst_pad_alloc_buffer_full() it detects that there's been a caps change because the caps have been cleared as a consequence of what the release request pad function did, so it tries to do gst_pad_configure_src() which fails with a g_warning() in gst_pad_get_caps_unlocked() because the pad no longer has any parent (obviously).++Created attachment 116611  [details]  [review] tee_release_request_pad_while_buffer_alloc_testcaseThe attached patch adds a test-case to tests/check/tee.c that reproduces the race reliably by staging a disaster by orchestrating the interaction between the pretend streaming thread and pretend application thread. It reproduces exactly the same crash that we've experienced in application code.++s/exactly the same crash/exactly the same race/  We're always running the application with G_DEBUG containing ""fatal_criticals"". :)++s/which fails with a g_warning()/which fails with a g_critical()/Think I need to get some sleep :)++Created attachment 116616  [details]  [review] tee_release_request_pad_while_buffer_alloc_testcase_r2Simplified and improved version of the original test.- Avoid deadlocking if the locking semantics change in the future, so give the app thread up to 3 seconds to finish the release_request_pad() before returning from buffer_alloc.- Reduced the number of global variables and spawn the 'app' thread from buffer_alloc to simplify things (d'oh!).- Try to be a nicer gstcheck citizen.++Created attachment 116647  [details]  [review] tee_release_request_pad_while_buffer_alloc_testcase_r3Refactored version of the test that doesn't add any global variables, and also has a convenient setup/teardown of the miniature tee harness. Preparing to write more tests.A related bug has also been found, for which a test will be written. Fixes for tee coming.++Created attachment 116659  [details]  [review] tee_release_request_pad_while_buffer_alloc_testcase_r4Added another test-case and refactored things a bit.++Created attachment 116661  [details]  [review] tee_release_request_pad_while_buffer_alloc_fixesFirst take on a fix for both race-conditions.++Verified that this fixes the problem in our application.++It would be nice if core could make sure that pad_allocs are finished, probably with another mutex. That does not seem very possible right now so I guess we'll have to implement this in the plugins.++I fixed it a little with an extra variable, there was still a race where the pad would be removed and shut down first before the pad_alloc was called.         Patch by: Ole André Vadla Ravnås  <ole.andre.ravnas at tandberg com>        * plugins/elements/gsttee.c: (gst_tee_finalize), (gst_tee_init),        (gst_tee_request_new_pad), (gst_tee_release_pad),        (gst_tee_find_buffer_alloc), (gst_tee_buffer_alloc):        * plugins/elements/gsttee.h:        Protect pad_alloc with a new lock so that we can be sure that nothing is        performing a pad_alloc when removing the pad. Fixes #547835.        * tests/check/elements/tee.c: (buffer_alloc_harness_setup),        (buffer_alloc_harness_teardown), (app_thread_func),        (final_sinkpad_bufferalloc), (GST_START_TEST), (tee_suite):        Added testcase for shutdown race.++Ahh, good catch! Thanks!  I'll see if maybe some more unit tests can be written to nail down any remaining races. Haven't yet investigated if pushing a buffer downstream is safe or if there's any race there."
145753,xchat-gnome,general,RTL unicode characters cause big problems,"Distribution: Gentoo Base System version 1.4.12Package: xchat-gnomeSeverity: normalVersion: GNOME2.6.1 unspecifiedGnome-Distributor: Gentoo LinuxSynopsis: RTL unicode characters cause big problemsBugzilla-Product: xchat-gnomeBugzilla-Component: generalBugzilla-Version: unspecifiedBugBuddy-GnomeVersion: 2.0 (2.6.1.1)Description:Description of the crash:command parsing broke badlySteps to reproduce the crash:1. paste some random RTL stuff into the text entry2. press enter3. waitHow often does this happen?sometimes!Debugging Information:Backtrace was generated from '/usr/bin/xchat-gnome'Using host libthread_db library ""/lib/libthread_db.so.1"".Using host libthread_db library ""/lib/libthread_db.so.1"".Using host libthread_db library ""/lib/libthread_db.so.1"".0x405eaff8 in ?? ()++------- Bug moved to this database by unknown@bugzilla.gnome.org 2004-07-08 14:47 -------Unknown platform unknown. Setting to default platform ""Other"".Unknown milestone ""unknown"" in product ""xchat-gnome"".   Setting to default milestone for this product, '---'Setting to default status ""UNCONFIRMED"".Setting qa contact to the default for this product.   This bug either had no qa contact or an invalid one.++RTL has been fixed up a bit in XText a while ago. This crash was probablyactually related to the hangul engine, but I can't reproduce it anymore."
393579,gtk+,Widget: GtkTreeView,Need tree view API for querying whether rubberbanding is done ATM,"We need an API for querying the value of  tree_view->priv->rubber_band_statusi.e. if  tree_view->priv->rubber_band_status == RUBBER_BAND_ACTIVE)Maybe  gtk_tree_view_get_rubber_banding_in_progress()would be appropriate.We need it in Nautilus because we want single-click rubberbanding ( bug 138931 ).++""single-click rubberbanding"" means that we have a custom ""button-press-event"" handler that will activate specific rows if we're using single-click activation, but only if neither a drag nor a rubberbanding was started.++Created attachment 79537  [details]  [review] Proposed patchProposed patch attached. I decided to use gtk_tree_view_get_rubber_banding_active()instead since it is more consistent the GTK+ naming conventions.connectionI'm not sure whether a signal or an additional property is also appropriate, I think connecting to ""motion-notify-event"" and checking for gtk_tree_view_get_rubber_banding_active() should be enough.++Ping. Any chance that we get this into GTK+ HEAD?++It looks like this does make sense to add.  However, I think we should have a little broader look at GtkTreeView and find other pieces where a status indication would be useful (for example knowing whether or not there is a row DnD operation pending).Once we have this list we can decide what to add and how; we could either add separate functions for each thing, or return something like a bitmask.++Added as gtk_tree_view_is_rubber_banding_active() with some changes.  We'll see if there are other state things that are useful to be able to get.  Once we add such getters in the future they should preferably of the form: gtk_tree_view_is_blah_blah_active()"
35231,gnome-control-center,general,control center crashed when adjusting MIME type,"Package:  control-centerSeverity: normalVersion:  1.2.2Synopsis: control center crashed when adjusting MIME typeClass:    sw-bugDistribution: Red Hat Linux release 6.2 (Zoot)System: Linux 2.2.14-5.0 i586 unknownC library: glibc-2.1.3-21C compiler: egcs-2.91.66glib: 1.2.8GTK+: 1.2.8ORBit: ORBit 0.5.5gnome-libs: gnome-libs 1.2.8libxml: 1.8.10gnome-print: gnome-print-0.24-0_helix_5gnome-core: gnome-core 1.2.4Description:When editing the Mime Type for text/html (after looking at the FileTypes and Programs but not making any changes), the control centercrashed as soon as I canceled out of the edit.Debugging information:0x404df8c9 in __wait4 () from /lib/libc.so.6++------- Bug moved to this database by debbugs-export@bugzilla.gnome.org 2001-01-27 16:45 -------This bug was previously known as bug 35231 at http://bugs.gnome.org/  http://bugs.gnome.org/show_bug.cgi?id=35231 Originally filed under the control-center product and general component.Unknown version 1.2.x in product control-center. Setting version to the default, ""unspecified"".The original reporter ( tmgeorgo@io.com ) of this bug does not have an account here.Reassigning to the exporter, debbugs-export@bugzilla.gnome.org .Reassigning to the default owner of the component, bugmeister@canvas.gnome.org ."
73461,gedit,general,The number of recently used files should be configurable,There should be a way to alter the number of recently used files thatappear in the File menu. Currently there is no such way to do this withoutrecompiling the entire app!++I don't know if I will fix this problem in gedit 0.9.x series (patchesare wellcome).I was already planning to fix it in gedit for gnome 2 Target Milestone: GNOME 2.0 For the moment it will be an advanced option (you will be able tomodify it only using gconftool-2)++Fixed in CVS HEADI will not fix it for gedit 0.9.x series
269078,GtkHtml,Editing,Crash when pasting large text,"Distribution: Fedora Core release 2.92 (FC3 Test 3)Package: EvolutionPriority: MajorVersion: GNOME2.8.0 2.0.1Gnome-Distributor: Red Hat, IncSynopsis: Crash when pasting large textBugzilla-Product: EvolutionBugzilla-Component: MailerBugzilla-Version: 2.0.1BugBuddy-GnomeVersion: 2.0 (2.8.0)Description:Description of the crash:I was trying to paste a large chunk of text (12195 bytes) into a mailcomposition window when evlolution crashedDunno if this will work, but:Steps to reproduce the crash:1. Open composition window2. Select large amount of text in another application3. Paste into composition windowExpected Results: paste worksHow often does this happen? once so farAdditional Information:Debugging Information:Backtrace was generated from '/usr/bin/evolution'(no debugging symbols found)...Using host libthread_db library""/lib/tls/libthread_db.so.1"".(no debugging symbols found)...(no debugging symbols found)...(nodebugging symbols found)...(no debugging symbols found)...(no debuggingsymbols found)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...[Thread debugging using libthread_db enabled][New Thread -151156992 (LWP 3715)][New Thread 23837616 (LWP 5809)][Thread debugging using libthread_db enabled][New Thread -151156992 (LWP 3715)][New Thread 23837616 (LWP 5809)][New Thread 26852272 (LWP 5808)][New Thread 23571376 (LWP 5807)][New Thread -162214992 (LWP 4048)][New Thread -151725136 (LWP 3976)][New Thread -172713040 (LWP 3975)][New Thread 133200816 (LWP 3972)][New Thread 96046000 (LWP 3971)][New Thread 112597936 (LWP 3970)][New Thread 85556144 (LWP 3789)][New Thread 75066288 (LWP 3788)](no debugging symbols found)...(no debugging symbols found)...(nodebugging symbols found)...(no debugging symbols found)...[Threaddebugging using libthread_db enabled][New Thread -151156992 (LWP 3715)][New Thread 23837616 (LWP 5809)](no debugging symbols found)...(no debugging symbols found)...(nodebugging symbols found)...(no debugging symbols found)...(no debuggingsymbols found)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...(no debugging symbolsfound)...(no debugging symbols found)...0x008b8782 in _dl_sysinfo_int80() from /lib/ld-linux.so.2++Setting qa contact to the default for this product.   This bug either had no qa contact or an invalid one.++*** This bug has been marked as a duplicate of 267496 ***++ops, closed wrong bug++*** bug 271596 has been marked as a duplicate of this bug. ***++there were many fixes for 2.2.x related to pastin, assuming fixed.reopen if it happens again++*** Bug 272330 has been marked as a duplicate of this bug. ***++*** Bug 307040 has been marked as a duplicate of this bug. ***++*** Bug 306888 has been marked as a duplicate of this bug. ***++*** Bug 300700 has been marked as a duplicate of this bug. ***++*** Bug 273854 has been marked as a duplicate of this bug. ***++*** Bug 330566 has been marked as a duplicate of this bug. ***"
750638,GStreamer,gst-plugins-bad,avfassetsrc: fix huge memory leak,Input frames are being leaked.++Created attachment 304860  [details]  [review] avfassetsrc: fix huge memory leak++Comment on attachment 304860  [details]  [review] avfassetsrc: fix huge memory leakcommit 05cc418ca23a7a3c3603b30db8599d989fac0b77 Author: Ilya Konstantinov < ilya.konstantinov@gmail.com >Date:   Tue May 12 00:18:02 2015 +0200    avfassetsrc: fix huge memory leak        CMSampleBuffers were retained -> huge memory leak. https://bugzilla.gnome.org/show_bug.cgi?id=750638
